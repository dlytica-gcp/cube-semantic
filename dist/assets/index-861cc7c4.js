import{R as f}from"./index-03282bf3.js";import{j as e}from"./index-31f541c4.js";import{E as a}from"./paths-1d44e380.js";import{B as k}from"./index-9534a782.js";import{A as h}from"./AuthTokensStore-9401662d.js";import{B as x}from"./index-2a334e56.js";import{u as b}from"./useLocation-795e9ebc.js";import{f as E}from"./useAuth-c4a8cfeb.js";import{r as i}from"./react-venders-3a9fd7ec.js";import{u as T}from"./useTranslation-f1e31b7f.js";import"./button-255d95e9.js";import"./index-217cb9e2.js";import"./Sider-2eea88ce.js";import"./index-d72c3122.js";import"./tslib.es6-5f87f175.js";import"./index-801816c4.js";const j="_wrapper_9te42_1",w={wrapper:j},v=()=>{const{t}=T(["callback"]),[r,c]=i.useState(!1),{setAuthData:n,cleanTokens:m}=h(),[p,s]=b(),{refresh_token:l}=p.query,u=async()=>{const o=await E(l);o.error?c(!0):(m(),n({accessToken:o.jwt_token,refreshToken:o.refresh_token}),s(a))};return i.useEffect(()=>{u()},[]),e.jsx(k,{children:e.jsx(f,{className:w.wrapper,status:r?"error":"success",title:t(r?"error.title":"title"),subTitle:t(r?"error.subtitle":"subtitle"),extra:[e.jsx(x,{type:"primary",onClick:()=>s(a),children:t("action")},"back")]})})};export{v as default};
